{
  "version": 2,
  "data_sources": {
    "tables": [
      {
        "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_daily",
        "description": [
          "\uc774 \ud14c\uc774\ube14\uc740 \uac8c\uc784 \ub0b4 KPI(\ud575\uc2ec \uc131\uacfc \uc9c0\ud45c)\uc5d0 \ub300\ud55c \uc77c\uc77c \uc694\uc57d \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc8fc\uc694 \uc0ac\uc6a9 \uc0ac\ub840\ub85c\ub294 \uac8c\uc784\uc758 \uc0ac\uc6a9\uc790 \ud65c\ub3d9 \ubd84\uc11d, \uc218\uc775 \ucd94\uc138 \ud30c\uc545, \uadf8\ub9ac\uace0 \ub2e4\uc591\ud55c \ud50c\ub7ab\ud3fc \ubc0f \uae30\uae30\uc5d0\uc11c\uc758 \uc0ac\uc6a9\uc790 \ud589\ub3d9 \uc774\ud574\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ub370\uc774\ud130\ub294 \ud2b9\uc815 \ub0a0\uc9dc, \uac8c\uc784 \ucf54\ub4dc, \uc0ac\uc6a9\uc790 \uc720\ud615, \uadf8\ub9ac\uace0 \uc218\uc775 \uad00\ub828 \uc9c0\ud45c\ub97c \ud3ec\ud568\ud558\uc5ec \uac8c\uc784 \uc131\uacfc\ub97c \ud3c9\uac00\ud558\ub294 \ub370 \uc720\uc6a9\ud569\ub2c8\ub2e4.\n",
          "\n",
          "\n",
          "DAU(\uc77c\uac04 \ud65c\uc131 \uc0ac\uc6a9\uc790 \uc218), DARPU(\uc77c\uac04 \ud65c\uc131 \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), DARPPU(\uc77c\uac04 \uc720\ub8cc \uacb0\uc81c \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), DPUR(\uc77c\uac04 \uacb0\uc81c \uc804\ud658\uc728), Daily Avg. Online Time (mins) (\uc77c\uac04 \ud3c9\uade0 \uc628\ub77c\uc778 \uc774\uc6a9 \uc2dc\uac04(\ubd84)) \ub4f1\uc758 \uc9c0\ud45c \ubd84\uc11d\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."
        ],
        "column_configs": [
          {
            "column_name": "active_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_paying_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_revenue",
            "enable_format_assistance": true
          },
          {
            "column_name": "country_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "device",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "event_date",
            "description": [
              "\uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud55c \ub0a0\uc9dc. \uc77c\ubcc4 \ud2b8\ub80c\ub4dc \ubd84\uc11d, \uc2dc\uacc4\uc5f4 \ubd84\uc11d\uc758 \uae30\uc900 \ub0a0\uc9dc. \uc77c \ub2e8\uc704\ub85c \uc9d1\uacc4\ub41c \ub370\uc774\ud130\uc758 \uae30\uc900\uc77c"
            ],
            "enable_format_assistance": true
          },
          {
            "column_name": "game_code",
            "description": [
              "\uac8c\uc784\uc758 \uace0\uc720 \ucf54\ub4dc\ub97c \ub098\ud0c0\ub0b4\uba70, \ud2b9\uc815 \uac8c\uc784\uc744 \uc2dd\ubcc4\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4. \ud06c\ub798\ud504\ud1a4\uc758 \ub2e4\uc591\ud55c \uac8c\uc784 \ud0c0\uc774\ud2c0\uc744 \uad6c\ubd84\ud558\ub294 \uc2dd\ubcc4\uc790"
            ],
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "online_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "os",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "paid_currency_used_usd",
            "enable_format_assistance": true
          },
          {
            "column_name": "paid_currency_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "platform",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "play_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "play_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          },
          {
            "column_name": "user_type",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_monthly",
        "description": [
          "\uc774 \ud14c\uc774\ube14\uc740 \uac8c\uc784\uc758 \uc6d4\ubcc4 KPI(\ud575\uc2ec \uc131\uacfc \uc9c0\ud45c) \uc694\uc57d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \ud3ec\ud568\ub41c \ub370\uc774\ud130\ub294 \uac8c\uc784 \ucf54\ub4dc, \uc0ac\uc6a9\uc790 \uc720\ud615, \ud65c\uc131 \uc0ac\uc6a9\uc790 \uc218, \ud50c\ub808\uc774 \uc2dc\uac04, \uadf8\ub9ac\uace0 \ud604\uae08 \uc218\uc775 \ub4f1\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4. \uc774 \ud14c\uc774\ube14\uc740 \uac8c\uc784 \uc131\uacfc\ub97c \ubd84\uc11d\ud558\uace0 \uc0ac\uc6a9\uc790 \ud589\ub3d9\uc744 \uc774\ud574\ud558\uba70, \ud2b9\uc815 \uac8c\uc784 \ubc0f \uc7a5\uce58\uc5d0\uc11c\uc758 \ud504\ub808\uc784\uc6cc\ud06c\ubcc4 \uc131\uacfc\ub97c \ud3c9\uac00\ud558\ub294 \ub370 \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n",
          "\n",
          "## \uc8fc\uc758\n",
          "\uc6d4\ubcc4 \ubd84\uc11d\uc744 \ud558\uae30 \uc704\ud574\uc11c\ub294 WHERE L.end_date = last_day(L.end_date)\uac00 \uaf2d \ud544\uc694\ud569\ub2c8\ub2e4."
        ],
        "column_configs": [
          {
            "column_name": "active_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_paying_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_revenue",
            "enable_format_assistance": true
          },
          {
            "column_name": "country_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "device",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "end_date",
            "enable_format_assistance": true
          },
          {
            "column_name": "game_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "online_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "os",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "paid_currency_used_usd",
            "enable_format_assistance": true
          },
          {
            "column_name": "paid_currency_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "platform",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "play_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "play_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "start_date",
            "enable_format_assistance": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          },
          {
            "column_name": "user_type",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_weekly",
        "column_configs": [
          {
            "column_name": "active_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_paying_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "cash_revenue",
            "enable_format_assistance": true
          },
          {
            "column_name": "country_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "device",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "end_date",
            "enable_format_assistance": true
          },
          {
            "column_name": "game_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "online_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "os",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "paid_currency_used_usd",
            "enable_format_assistance": true
          },
          {
            "column_name": "paid_currency_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "platform",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "play_ts_mins",
            "enable_format_assistance": true
          },
          {
            "column_name": "play_user",
            "enable_format_assistance": true
          },
          {
            "column_name": "start_date",
            "enable_format_assistance": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          },
          {
            "column_name": "user_type",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "week_start_day",
            "enable_format_assistance": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_meta_games",
        "description": [
          "\uc774 \ud14c\uc774\ube14\uc740 \uac8c\uc784 \uba54\ud0c0\ub370\uc774\ud130\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ud3ec\ud568\ub41c \ub370\uc774\ud130\ub294 \uac8c\uc784 \ucf54\ub4dc, \uac8c\uc784 \uc774\ub984 \ubc0f \ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc744 \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud2b9\uc815 \uac8c\uc784\uc744 \uc2dd\ubcc4\ud558\uace0 \uad00\ub828 \ud504\ub85c\uc81d\ud2b8\ub97c \uc5f0\uad00 \uc9d3\uac70\ub098 \uac8c\uc784 \ubd84\ub958 \uc791\uc5c5\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "
        ],
        "column_configs": [
          {
            "column_name": "game_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "game_name",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "project_name",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_meta_krafton_region",
        "column_configs": [
          {
            "column_name": "continent",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "country_code",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "country_code_iso3",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "country_code_numeric",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "country_name",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "country_name_kr",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "is_key_country",
            "enable_format_assistance": true
          },
          {
            "column_name": "krafton_region",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "krafton_sub_region",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "sub_continent",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "unsd_region",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "unsd_sub_region",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_meta_pubg_gcoin_items",
        "column_configs": [
          {
            "column_name": "catalog_version",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "category",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "currency",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "device",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "end_time",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "event_name",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "event_type",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "exchange_id",
            "enable_format_assistance": true
          },
          {
            "column_name": "part",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "platform",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "price",
            "enable_format_assistance": true
          },
          {
            "column_name": "product_id",
            "enable_format_assistance": true
          },
          {
            "column_name": "product_name",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "product_type",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "sales_id",
            "enable_format_assistance": true
          },
          {
            "column_name": "start_time",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "sub_category",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "tags",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "tier",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          }
        ]
      },
      {
        "identifier": "sandbox.agent_poc.poc_pubg_economy_gcoin_used_by_product_with_refund_daily",
        "column_configs": [
          {
            "column_name": "country",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "date",
            "enable_format_assistance": true
          },
          {
            "column_name": "device",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "free_gcoin_returns",
            "enable_format_assistance": true
          },
          {
            "column_name": "free_gcoin_used",
            "enable_format_assistance": true
          },
          {
            "column_name": "paid_gcoin_returns",
            "enable_format_assistance": true
          },
          {
            "column_name": "paid_gcoin_used",
            "enable_format_assistance": true
          },
          {
            "column_name": "platform",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "product_id",
            "enable_format_assistance": true
          },
          {
            "column_name": "reason",
            "enable_format_assistance": true,
            "enable_entity_matching": true
          },
          {
            "column_name": "sales_id",
            "enable_format_assistance": true
          },
          {
            "column_name": "unit_returns",
            "enable_format_assistance": true
          },
          {
            "column_name": "unit_sold",
            "enable_format_assistance": true
          },
          {
            "column_name": "update_time",
            "enable_format_assistance": true
          }
        ]
      }
    ]
  },
  "instructions": {
    "text_instructions": [
      {
        "id": "01f0f9b4978e1dc3a68e89924bfcd0d6",
        "content": [
          "## \uc77c\ubc18\uc9c0\uce68\n",
          "- \ud06c\ub798\ud504\ud1a4\uc758 \uac8c\uc784\uacfc \uad00\ub828\ub41c KPI \uc9c0\ud45c\uc5d0 \ub300\ud55c \ub2f5\ubcc0\uc744 \ud569\ub2c8\ub2e4.\n",
          "\n",
          "## \ud14c\uc774\ube14 \uc815\ubcf4 \n",
          "- \uc77c\ubcc4(\uc77c\uac04): poc_krafton_kpi_kad_ingame_summary_daily\n",
          ", \uc8fc\ubcc4(\uc8fc\uac04): poc_krafton_kpi_kad_ingame_summary_weekly\n",
          ", \uc6d4\ubcc4(\uc6d4\uac04): poc_krafton_kpi_kad_ingame_summary_monthly\ub97c \ucc38\uc870\ud569\ub2c8\ub2e4.\n",
          "\n",
          "## \uc9c8\ubb38\uc5d0 \uae30\uac04\uc744 \uba85\uc2dc\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0\n",
          "- \uc77c\ubcc4 \ub370\uc774\ud130\uac00 \uc788\ub294 \ud14c\uc774\ube14\uc774\ub098 \ucffc\ub9ac\ub97c \uae30\uc900\uc73c\ub85c \ub2f5\ubcc0\ud558\uace0, \ucd5c\uadfc \uc77c\uc8fc\uc77c\uc744 \uc870\ud68c\ud569\ub2c8\ub2e4.\n",
          "\n",
          "## \ucffc\ub9ac \uc0dd\uc131 \uc8fc\uc758\uc810\n",
          "- \uc0ac\uc6a9\uc790 \uc218 \uc678 \uc218\uce58 \uacc4\uc0b0\uc774\ub098 \uc9c0\ud45c\uc5d0 \uad00\ub828\ub41c \uc22b\uc790\uac12\uc740 ::decimal(38,2)\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n",
          "\n",
          "## \ub2f5\ubcc0 \uc0dd\uc131\uc2dc \uc8fc\uc758\uc0ac\ud56d\n",
          "- \uc9c8\ubb38\uc5d0\uc11c \uae30\uac04\uc744 \uba85\uc2dc\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0 \ucd5c\uadfc \uba87\uac74\uc758 \ub370\uc774\ud130\ub97c \uae30\uc900\uc73c\ub85c \ubcf4\uc5ec\uc900\ub2e4\ub294 \uc5b8\uae09\uc744 \ud569\ub2c8\ub2e4.\n",
          "- \uc0dd\uc131\ub41c \ucffc\ub9ac\uc758 LIMIT \uac12\uacfc \uc2e4\uc81c \uc751\ub2f5 \uac2f\uc218\uac00 \ub3d9\uc77c\ud558\ub2e4\uba74 \ub2f5\ubcc0\uc5d0\uc11c \uc124\uba85\ud558\uace0, LIMIT\uc5c6\uc774 \uc804\uccb4\ub97c \uc870\ud68c\ud560\uae4c\uc694?\ub77c\ub294 \uc9c8\ubb38\uc744 \ucd94\ucc9c\ud569\ub2c8\ub2e4."
        ]
      }
    ],
    "example_question_sqls": [
      {
        "id": "01f0f9b3ca6a1891989bd73b61cb15bf",
        "question": [
          "\uc77c\uac04(\uc77c\ubcc4) KPI\ub97c \uc54c\ub824\uc918"
        ],
        "sql": [
          "SELECT L.event_date\n",
          "      ,L.game_code\n",
          "      ,R.krafton_region\n",
          "      ,L.user_type\n",
          "      ,SUM(L.active_user) as dau\n",
          "      ,SUM(L.cash_revenue)::decimal(38,2) as daily_ingame_revenue\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.active_user))::decimal(38,2) as darpu\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.cash_paying_user))::decimal(38,2) as darppu\n",
          "      ,try_divide(SUM(L.cash_paying_user), SUM(L.active_user))::decimal(38,2) as dpur\n",
          "      ,try_divide(SUM(L.online_ts_mins), SUM(L.active_user))::decimal(38,2) as daily_avg_online_ts\n",
          "  FROM sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_daily L\n",
          "       LEFT JOIN\n",
          "       sandbox.agent_poc.poc_meta_krafton_region R\n",
          "       ON L.country_code = R.country_code\n",
          " GROUP BY ALL"
        ],
        "usage_guidance": [
          "\uac8c\uc784\uacfc \uad00\ub828\ub41c \uc77c\ubcc4(\uc77c\uac04) KPI\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc5d0 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. DAU\ucc98\ub7fc \uac1c\ubcc4\ub85c \uc9c8\ubb38\ud560 \uc218\ub3c4 \uc788\uace0, \uc5ec\ub7ec\uac1c\ub97c \ub3d9\uc2dc\uc5d0 \uc9c8\ubb38\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc8fc\ubcc4(\uc8fc\uac04), \uc6d4\ubcc4(\uc6d4\uac04) \uc9c8\ubb38\uc774 \uc788\ub294 \uacbd\uc6b0 \ub2e4\ub978 \ucffc\ub9ac\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4. . DAU, DARPU, DARPPU, DPUR, Daily Avg. Online Time (mins)\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc5d0 \ud65c\uc6a9\ud569\ub2c8\ub2e4"
        ]
      },
      {
        "id": "01f0fbec359b1e5888281fc6524ba191",
        "question": [
          "\uc8fc\uac04(\uc8fc\ubcc4) KPI\ub97c \ubcf4\uc5ec\uc918"
        ],
        "sql": [
          "SELECT L.start_date\n",
          "      ,L.end_date\n",
          "      ,L.week_start_day\n",
          "      ,L.game_code\n",
          "      ,R.krafton_region\n",
          "      ,L.user_type\n",
          "      ,SUM(L.active_user) as wau\n",
          "      ,SUM(L.cash_revenue)::decimal(38,2) as weekly_ingame_revenue\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.active_user))::decimal(38,2) as warpu\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.cash_paying_user))::decimal(38,2) as warppu\n",
          "      ,try_divide(SUM(L.cash_paying_user), SUM(L.active_user))::decimal(38,2) as wpur\n",
          "      ,try_divide(SUM(L.online_ts_mins), SUM(L.active_user))::decimal(38,2) as weekly_avg_online_ts\n",
          "  FROM sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_weekly L\n",
          "       LEFT JOIN\n",
          "       sandbox.agent_poc.poc_meta_krafton_region R\n",
          "       ON L.country_code = R.country_code\n",
          " WHERE L.week_start_day = :week_start_day \n",
          " GROUP BY ALL"
        ],
        "parameters": [
          {
            "name": "week_start_day",
            "type_hint": "STRING",
            "default_value": {
              "values": [
                "2"
              ]
            }
          }
        ],
        "usage_guidance": [
          "\uc8fc\uac04(\uc8fc\ubcc4) KPI, wau(\uc8fc\uac04 \ud65c\uc131 \uc0ac\uc6a9\uc790\uc218), WARPU(\uc8fc\uac04 \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), WARPPU(\uc8fc\uac04 \uacb0\uc81c \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), WPUR(\uc8fc\uac04 \uacfc\uae08 \uc720\uc800 \ube44\uc728), \uc694\uc77c\uc744 \uba85\uc2dc\ud574\uc11c \uc9c8\ubb38\ud558\ub294 \uacbd\uc6b0 week_start_day\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4(\uae30\ubcf8\uc801\uc73c\ub85c \uc77c\uc694\uc77c\uc740 1\uc774\uace0, \uc6d4\uc694\uc77c\uc740 2, \ud654\uc694\uc77c 3.. \uc774\ub7f0 \uc2dd\uc785\ub2c8\ub2e4). \uc8fc\uac04 \uc778\uac8c\uc784 \uc218\uc775, \uc8fc\uac04 \ud3c9\uade0 \uc628\ub77c\uc778 \uc811\uc18d\uc2dc\uac04 \uc9c8\ubb38\uc5d0\ub3c4 \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."
        ]
      },
      {
        "id": "01f0fbf61bb71722b7a3b74b993f31a1",
        "question": [
          "\uc6d4\uac04(\uc6d4\ubcc4) KPI\ub97c \ubcf4\uc5ec\uc918"
        ],
        "sql": [
          "SELECT L.start_date\n",
          "      ,L.end_date\n",
          "      ,L.game_code\n",
          "      ,R.krafton_region\n",
          "      ,L.user_type\n",
          "      ,SUM(L.active_user) as mau\n",
          "      ,SUM(L.cash_revenue)::decimal(38,2) as monthly_ingame_revenue\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.active_user))::decimal(38,2) as marpu\n",
          "      ,try_divide(SUM(L.cash_revenue), SUM(L.cash_paying_user))::decimal(38,2) as marppu\n",
          "      ,try_divide(SUM(L.cash_paying_user), SUM(L.active_user))::decimal(38,2) as mpur\n",
          "      ,try_divide(SUM(L.online_ts_mins), SUM(L.active_user))::decimal(38,2) as monthly_avg_online_ts\n",
          "  FROM sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_monthly L\n",
          "       LEFT JOIN\n",
          "       sandbox.agent_poc.poc_meta_krafton_region R\n",
          "       ON L.country_code = R.country_code\n",
          " WHERE L.end_date = last_day(L.end_date)\n",
          " ANd start_date = :start_date \n",
          " GROUP BY ALL"
        ],
        "parameters": [
          {
            "name": "start_date",
            "type_hint": "STRING",
            "default_value": {
              "values": [
                "2025-01-01"
              ]
            }
          }
        ],
        "usage_guidance": [
          "mau(\uc6d4\uac04 \ud65c\uc131 \uc0ac\uc6a9\uc790\uc218), marpu(\uc6d4\uac04 \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), marppu(\uc6d4\uac04 \uacb0\uc81c \uc0ac\uc6a9\uc790\ub2f9 \ud3c9\uade0 \ub9e4\ucd9c), mpur(\uc6d4\uac04 \uacfc\uae08 \uc720\uc800 \ube44\uc728), \uc6d4\uac04 \uc778\uac8c\uc784 \ub9e4\ucd9c, \uc6d4\uac04 \ud3c9\uade0 \uc628\ub77c\uc778 \uc0ac\uc6a9\uc2dc\uac04(\ubd84)\uc758 \uc9c8\ubb38\uc5d0 \ud65c\uc6a9\ud569\ub2c8\ub2e4. \ucd5c\uadfc \uba87\ub2ec, \uc774\uc804\ub2ec, \uc774\ubc88\ub2ec \ub4f1\uc758 \uc9c8\ubb38\uc744 \ud560 \ub54c, start_date\ub97c \ud65c\uc6a9\ud569\ub2c8\ub2e4."
        ]
      },
      {
        "id": "01f0fbf9429e14aa9c3f1cf4d85f163a",
        "question": [
          "\uc0ac\uc6a9\uc790 \ub9ac\ud150\uc158(\uc794\uc874\uc728)\uc744 \ubcf4\uc5ec\uc918"
        ],
        "sql": [
          "SELECT cohort_date\n",
          "      ,event_date\n",
          "      ,day_plus\n",
          "      ,game_code\n",
          "      ,try_divide(SUM(retained_user), SUM(cohort_size))::decimal(38,2) as retention_rate\n",
          "      ,SUM(cohort_size) as cohort_size\n",
          "  FROM sandbox.agent_poc.poc_krafton_traffic_kad_retention_daily\n",
          " WHERE user_type = :param2\n",
          " and day_plus = :day_plus\n",
          " GROUP BY ALL"
        ],
        "parameters": [
          {
            "name": "param2",
            "type_hint": "STRING",
            "default_value": {
              "values": [
                "New"
              ]
            }
          },
          {
            "name": "day_plus",
            "type_hint": "STRING",
            "default_value": {
              "values": [
                "7"
              ]
            }
          }
        ],
        "usage_guidance": [
          "\uc0ac\uc6a9\uc790 \ud0c0\uc785\uc740 user_type\uc73c\ub85c \uad6c\ubd84\ud558\uba70 \uba85\uc2dc\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \uc804\uccb4\ub97c \uc870\ud68c. \uc794\uc874\uc728 \uae30\uac04\uc744 \uba85\uc2dc\ud558\ub294 \uacbd\uc6b0 day_plus\uc758 \uc870\uac74\uc744 \uc0ac\uc6a9\ud558\uba70, 1,3,7,14,28\uc758 \uac12\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc74c. \uac8c\uc784\ubcc4 \uc870\uac74\uc774 \ud544\uc694\ud55c \uacbd\uc6b0 game_code\ub97c \uc870\uac74\uc73c\ub85c \ud65c\uc6a9"
        ]
      },
      {
        "id": "01f0fbf9e76c18779e70a7b4f4aad73b",
        "question": [
          "\uc0c1\ud488\ubcc4 GCoin(\uc7ac\ud654) \uc0ac\uc6a9\ub7c9\uc744 \ubcf4\uc5ec\uc918"
        ],
        "sql": [
          "SELECT date\n",
          "      ,L.platform\n",
          "      ,Rb.category\n",
          "      ,Rb.sub_category\n",
          "      ,Rb.event_type\n",
          "      ,Rb.event_name\n",
          "      ,Rb.product_name\n",
          "      ,SUM(unit_sold) as unit_sold\n",
          "      ,SUM(paid_gcoin_used) as paid_gcoin_used\n",
          "  FROM sandbox.agent_poc.poc_pubg_economy_gcoin_used_by_product_with_refund_daily L\n",
          "       LEFT JOIN\n",
          "       sandbox.agent_poc.poc_meta_krafton_region Ra\n",
          "       ON L.country = Ra.country_code\n",
          "       LEFT JOIN\n",
          "       sandbox.agent_poc.poc_meta_pubg_gcoin_items Rb\n",
          "       ON L.platform = Rb.platform\n",
          "       AND L.sales_id = Rb.sales_id\n",
          "       AND L.product_id = Rb.product_id\n",
          " GROUP BY ALL"
        ],
        "usage_guidance": [
          "unit_sold(\uc544\uc774\ud15c \ud310\ub9e4\ub7c9), paid_gcoin_used(\uc720\ub8cc \uc7ac\ud654 \uc0ac\uc6a9\ub7c9), free_gcoin_used(\ubb34\ub8cc \uc7ac\ud654 \uc0ac\uc6a9\ub7c9)\uc5d0 \ub300\ud55c \uc9c8\ubb38\uc5d0 \ub2f5\ubcc0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "
        ]
      }
    ],
    "join_specs": [
      {
        "id": "01f0f9b2bb0d1f2ca0598cff807b6591",
        "left": {
          "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_daily",
          "alias": "poc_krafton_kpi_kad_ingame_summary_daily"
        },
        "right": {
          "identifier": "sandbox.agent_poc.poc_meta_krafton_region",
          "alias": "poc_meta_krafton_region"
        },
        "sql": [
          "`poc_krafton_kpi_kad_ingame_summary_daily`.`country_code` = `poc_meta_krafton_region`.`country_code`",
          "--rt=FROM_RELATIONSHIP_TYPE_MANY_TO_ONE--"
        ],
        "instruction": [
          "\uc77c\ubcc4 KPI \uad00\ub828 \uc9c8\ubb38\uc5d0\uc11c \uad6d\uac00 \ucf54\ub4dc\uac00 \uc544\ub2cc \uad6d\uac00 \uc774\ub984, \ud55c\uae00\ub85c \ub41c \uad6d\uac00 \uc774\ub984, \ub300\ub959\ubcc4, \uc804\ub7b5 \uad6d\uac00\ubcc4 \ub4f1\uc758 \uc9c0\uc5ed\uc5d0 \ub300\ud55c \uad6c\ubd84\uc774 \ud544\uc694\ud560 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."
        ]
      },
      {
        "id": "01f0fccad8671361990edb72ea272102",
        "left": {
          "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_daily",
          "alias": "poc_krafton_kpi_kad_ingame_summary_daily"
        },
        "right": {
          "identifier": "sandbox.agent_poc.poc_meta_games",
          "alias": "poc_meta_games"
        },
        "sql": [
          "`poc_krafton_kpi_kad_ingame_summary_daily`.`game_code` = `poc_meta_games`.`game_code`",
          "--rt=FROM_RELATIONSHIP_TYPE_MANY_TO_ONE--"
        ],
        "instruction": [
          "\uc77c\ubcc4(\uc77c\uac04) KPI \uad00\ub828 \uc9c8\ubb38\uc5d0\uc11c \uac8c\uc784 \ucf54\ub4dc\uac00 \uc544\ub2cc \uac8c\uc784 \uc774\ub984\uc774\ub098 \uac8c\uc784 \ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc73c\ub85c \uc9c8\ubb38\ud558\ub294 \uacbd\uc6b0\uc5d0 \uc0ac\uc6a9"
        ]
      },
      {
        "id": "01f0fccb047a1b6a9207cdd0cfa2b30d",
        "left": {
          "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_weekly",
          "alias": "poc_krafton_kpi_kad_ingame_summary_weekly"
        },
        "right": {
          "identifier": "sandbox.agent_poc.poc_meta_games",
          "alias": "poc_meta_games"
        },
        "sql": [
          "`poc_krafton_kpi_kad_ingame_summary_weekly`.`game_code` = `poc_meta_games`.`game_code`",
          "--rt=FROM_RELATIONSHIP_TYPE_MANY_TO_ONE--"
        ],
        "instruction": [
          "\uc8fc\ubcc4(\uc8fc\uac04) KPI \uad00\ub828 \uc9c8\ubb38\uc5d0\uc11c \uac8c\uc784 \ucf54\ub4dc\uac00 \uc544\ub2cc \uac8c\uc784 \uc774\ub984\uc774\ub098 \uac8c\uc784 \ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc73c\ub85c \uc9c8\ubb38\ud558\ub294 \uacbd\uc6b0\uc5d0 \uc0ac\uc6a9"
        ]
      },
      {
        "id": "01f0fccb153a174688e9c9a7519f4b90",
        "left": {
          "identifier": "sandbox.agent_poc.poc_krafton_kpi_kad_ingame_summary_monthly",
          "alias": "poc_krafton_kpi_kad_ingame_summary_monthly"
        },
        "right": {
          "identifier": "sandbox.agent_poc.poc_meta_games",
          "alias": "poc_meta_games"
        },
        "sql": [
          "`poc_krafton_kpi_kad_ingame_summary_monthly`.`game_code` = `poc_meta_games`.`game_code`",
          "--rt=FROM_RELATIONSHIP_TYPE_MANY_TO_ONE--"
        ],
        "instruction": [
          "\uc6d4\ubcc4(\uc6d4\uac04) KPI \uad00\ub828 \uc9c8\ubb38\uc5d0\uc11c \uac8c\uc784 \ucf54\ub4dc\uac00 \uc544\ub2cc \uac8c\uc784 \uc774\ub984\uc774\ub098 \uac8c\uc784 \ud504\ub85c\uc81d\ud2b8 \uc774\ub984\uc73c\ub85c \uc9c8\ubb38\ud558\ub294 \uacbd\uc6b0\uc5d0 \uc0ac\uc6a9"
        ]
      }
    ],
    "sql_snippets": {
      "measures": [
        {
          "id": "01f0fc052f6a10f190610a82aebb6544",
          "alias": "revenue",
          "sql": [
            "SUM(`poc_krafton_kpi_kad_ingame_summary_daily`.`cash_revenue`)"
          ],
          "display_name": "\uc77c\ubcc4 \ub9e4\ucd9c",
          "instruction": [
            "WHEN_TO_USE: Use for questions requesting revenue/\ub9e4\ucd9c from in-game activity; SCOPE_TABLES: [poc_krafton_kpi_kad_ingame_summary_daily]; METRIC_HINT: This metric refers to cash transactions only."
          ]
        }
      ]
    }
  },
  "benchmarks": {
    "questions": [
      {
        "id": "01f0fc09c22f11ab815c02367547ba85",
        "question": [
          "\ub124"
        ],
        "answer": [
          {
            "format": "SQL",
            "content": [
              "SELECT L.product_id, Rb.product_name, Rb.category, Rb.sub_category, Rb.event_type, Rb.event_name, SUM(L.unit_sold) AS unit_sold, SUM(L.paid_gcoin_used)::decimal(38,2) AS paid_gcoin_used, SUM(L.paid_gcoin_used * Rb.price)::decimal(38,2) AS estimated_cash_revenue\n",
              "FROM `sandbox`.`agent_poc`.`poc_pubg_economy_gcoin_used_by_product_with_refund_daily` L\n",
              "LEFT JOIN `sandbox`.`agent_poc`.`poc_meta_pubg_gcoin_items` Rb\n",
              "  ON L.platform = Rb.platform\n",
              "  AND L.sales_id = Rb.sales_id\n",
              "  AND L.product_id = Rb.product_id\n",
              "WHERE L.date = '2026-01-15'\n",
              "  AND Rb.price IS NOT NULL\n",
              "GROUP BY L.product_id, Rb.product_name, Rb.category, Rb.sub_category, Rb.event_type, Rb.event_name\n",
              "ORDER BY estimated_cash_revenue DESC\n",
              "LIMIT 10"
            ]
          }
        ]
      },
      {
        "id": "01f0fc06f3411a91a5eade7edb4efab8",
        "question": [
          "\ub9e4\ucd9c\uc774 2026\ub144 1\uc6d4 15\uc77c\uc5d0 \uc99d\uac00\ud588\ub294\ub370, \uc5b4\ub5a4 \uc0c1\ud488\uc774 \ub9e4\ucd9c\uc744 \uacac\uc778\ud588\uc5b4?"
        ],
        "answer": [
          {
            "format": "SQL",
            "content": [
              "SELECT L.product_id, Rb.product_name, Rb.category, Rb.sub_category, Rb.event_type, Rb.event_name, SUM(L.unit_sold) AS unit_sold, SUM(L.paid_gcoin_used)::decimal(38,2) AS paid_gcoin_used\n",
              "FROM `sandbox`.`agent_poc`.`poc_pubg_economy_gcoin_used_by_product_with_refund_daily` L\n",
              "LEFT JOIN `sandbox`.`agent_poc`.`poc_meta_pubg_gcoin_items` Rb\n",
              "  ON L.platform = Rb.platform\n",
              "  AND L.sales_id = Rb.sales_id\n",
              "  AND L.product_id = Rb.product_id\n",
              "WHERE L.date = '2026-01-15'\n",
              "GROUP BY L.product_id, Rb.product_name, Rb.category, Rb.sub_category, Rb.event_type, Rb.event_name\n",
              "ORDER BY paid_gcoin_used DESC\n",
              "LIMIT 10"
            ]
          }
        ]
      },
      {
        "id": "01f0fc0532e117179b7a11cf88dec3c6",
        "question": [
          "\ub9e4\ucd9c\uc744 \ubcf4\uc5ec\uc918"
        ],
        "answer": [
          {
            "format": "SQL",
            "content": [
              "SELECT `event_date`, SUM(`cash_revenue`)::decimal(38,2) AS total_cash_revenue\n",
              "FROM `sandbox`.`agent_poc`.`poc_krafton_kpi_kad_ingame_summary_daily`\n",
              "WHERE `event_date` IS NOT NULL AND `cash_revenue` IS NOT NULL\n",
              "GROUP BY `event_date`\n",
              "ORDER BY `event_date` DESC\n",
              "LIMIT 7"
            ]
          }
        ]
      },
      {
        "id": "01f0f9b409e7125ebb09df24b15306c3",
        "question": [
          "DAU\uac00 \uc5b4\ub5bb\uc2b5\ub2c8\uae4c?"
        ],
        "answer": [
          {
            "format": "SQL",
            "content": [
              "SELECT\n",
              "  `event_date`,\n",
              "  SUM(`active_user`) AS dau\n",
              "FROM\n",
              "  `sandbox`.`agent_poc`.`poc_krafton_kpi_kad_ingame_summary_daily`\n",
              "WHERE\n",
              "  `active_user` IS NOT NULL\n",
              "  AND `event_date` IS NOT NULL\n",
              "GROUP BY\n",
              "  `event_date`\n",
              "ORDER BY\n",
              "  `event_date` ASC"
            ]
          }
        ]
      }
    ]
  }
}